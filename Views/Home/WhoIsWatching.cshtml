@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Who is Watching";
}

<div class="who-is-watching">
    <h1>Who's watching?</h1>
    <div class="profiles-container">
        <div class="profile" onclick="selectProfile('User1')">
            <i class="fas fa-user-circle profile-icon" style="color: #3498db;"></i>
            <p class="profile-name">Mrutunjay</p>
        </div>
        <div class="profile" onclick="selectProfile('User2')">
            <i class="fas fa-user-circle profile-icon" style="color: #f1c40f;"></i>
            <p class="profile-name">Ashish</p>
        </div>
        <div class="profile" onclick="selectProfile('Children')">
            <i class="fas fa-child profile-icon" style="color: #9b59b6;"></i>
            <p class="profile-name">Children</p>
        </div>
        <div class="profile add-profile" onclick="openAddProfileModal()">
            <i class="fas fa-plus-circle profile-icon add-icon"></i>
            <p class="profile-name">Add Profile</p>
        </div>
    </div>
    <button class="manage-profiles-btn">Manage Profiles</button>
</div>

<!-- Add Profile Modal -->
<div id="addProfileModal" class="profile-modal">
    <div class="profile-modal-content">
        <span class="close" onclick="closeAddProfileModal()">&times;</span>
        <h2>Add New Profile</h2>
        <form method="post" action="Home/AddProfile">
            <div class="profile-form-group">
                <label for="profileName">Profile Name</label>
                <input type="text" id="profileName" name="profileName" required placeholder="Enter profile name">
            </div>
            <div class="profile-form-group">
                <label for="profileColor">Profile Icon Color</label>
                <select id="profileColor" name="profileColor">
                    <option value="#3498db">Blue</option>
                    <option value="#f1c40f">Yellow</option>
                    <option value="#9b59b6">Purple</option>
                    <option value="#e74c3c">Red</option>
                    <option value="#2ecc71">Green</option>
                </select>
            </div>
            <button type="submit" class="save-profile-btn">Save Profile</button>
        </form>
    </div>
</div>

<script>
    function selectProfile(profileName) {
        // Redirect or perform action based on selected profile
        window.location.href = `/Home/ProfileSelection?profile=${profileName}`;
    }

    function openAddProfileModal() {
        document.getElementById("addProfileModal").style.display = "block";
    }

    function closeAddProfileModal() {
        document.getElementById("addProfileModal").style.display = "none";
    }
</script>
