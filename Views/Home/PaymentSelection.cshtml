@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Payment Selection page";
}

<div class="payment-content">
    <div class="icon">
        <i class="fa-solid fa-lock"></i>
    </div>
    <p class="step">STEP 3 OF 3</p>
    <h2 class="choose-how-to-pay">Choose how to pay</h2>
    <p class="description">
        Your payment is encrypted and you can change how you pay anytime.<br>
        <strong>Secure for peace of mind. Cancel easily online.</strong>
    </p>

    <div class="payment-options">
        <div class="payment-option" onclick="selectPayment('card')">
            <span>Credit or Debit Card</span>
            <img src="~/images/payment.png" alt="Credit Card Icons">
        </div>
    </div>
</div>
<button id="nextButton" style="display: none;" onclick="proceedToNextStep()">Next</button>
    </div>

<script>
    let selectedPaymentMethod = null;

    function selectPayment(method) {
        selectedPaymentMethod = method;

        const paymentOptions = document.querySelectorAll('.payment-option');
        paymentOptions.forEach(option => option.classList.remove('selected'));
        event.currentTarget.classList.add('selected'); 

        // Show the Next button
        document.getElementById('nextButton').style.display = 'block';
    }

    function proceedToNextStep() {
        if (selectedPaymentMethod) {
            console.log("Selected Payment Method:", selectedPaymentMethod);
            window.location.href = "CardSetup";
        } else {
            alert("Please select a payment method.");
        }
    }
</script>